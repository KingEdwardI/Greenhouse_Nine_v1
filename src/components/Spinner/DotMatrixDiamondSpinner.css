/* DotMatrixDiamondSpinner base styles */
.gn-DotMatrixDiamondSpinner {
  position: relative;
  width: var(--diamond-size);
  height: var(--diamond-size);
}

/* Size variants */
.gn-DotMatrixDiamondSpinner--sm {
  --diamond-size: 40px;
  --dot-size: 6px;
  --dot-spacing: 8px;
}

.gn-DotMatrixDiamondSpinner--md {
  --diamond-size: 60px;
  --dot-size: 10px;
  --dot-spacing: 12px;
}

.gn-DotMatrixDiamondSpinner--lg {
  --diamond-size: 80px;
  --dot-size: 14px;
  --dot-spacing: 16px;
}

/* Dot styles */
.gn-DotMatrixDiamondSpinner__dot {
  position: absolute;
  width: var(--dot-size);
  height: var(--dot-size);
  background-color: var(--dot-color, var(--accent-9));
  border-radius: 50%;
  top: 50%;
  left: 50%;
  animation: dot-diamond-pulse var(--animation-duration, 2.5s) ease-in-out
    infinite;
  animation-delay: var(--animation-delay, 0s);
}

/* Position dots in a diamond pattern using CSS variables */
.gn-DotMatrixDiamondSpinner__dot {
  transform: translate(-50%, -50%)
    translate(
      calc(var(--diamond-col) * var(--dot-spacing)),
      calc((var(--diamond-row) - 2) * var(--dot-spacing))
    );
}

/* Pulse animation - corners to center */
@keyframes dot-diamond-pulse {
  0%,
  100% {
    transform: translate(-50%, -50%)
      translate(
        calc(var(--diamond-col) * var(--dot-spacing)),
        calc((var(--diamond-row) - 2) * var(--dot-spacing))
      )
      scale(0.4);
    opacity: 0.3;
  }
  50% {
    transform: translate(-50%, -50%)
      translate(
        calc(var(--diamond-col) * var(--dot-spacing)),
        calc((var(--diamond-row) - 2) * var(--dot-spacing))
      )
      scale(1.1);
    opacity: 1;
  }
}

/* Multicolor variant - Pulsing Color Diamond (radiates from center) */
.gn-DotMatrixDiamondSpinner--multicolor {
  --color-cycle-duration: 10s;
}

.gn-DotMatrixDiamondSpinner--multicolor .gn-DotMatrixDiamondSpinner__dot {
  box-shadow: 0 0 12px currentColor;
  animation:
    dot-diamond-pulse var(--animation-duration, 2.5s) ease-in-out infinite,
    dot-diamond-color-radiate var(--color-cycle-duration) linear infinite;
}

/* Color radiate animation - pulses through spectrum from center outward */
@keyframes dot-diamond-color-radiate {
  0% {
    filter: hue-rotate(calc(var(--hue-offset) + 0deg)) saturate(1.4)
      brightness(1.15);
  }
  100% {
    filter: hue-rotate(calc(var(--hue-offset) + 360deg)) saturate(1.4)
      brightness(1.15);
  }
}

/* Accessibility - Respect prefers-reduced-motion */
@media (prefers-reduced-motion: reduce) {
  .gn-DotMatrixDiamondSpinner--multicolor .gn-DotMatrixDiamondSpinner__dot {
    animation: dot-diamond-pulse var(--animation-duration, 2.5s) ease-in-out
      infinite;
    filter: none;
    box-shadow: 0 0 8px var(--dot-color);
  }
}
